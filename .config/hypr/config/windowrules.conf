# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Windowrules Configuration                ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

# Windows Rules https://wiki.hypr.land/Configuring/Window-Rules/

# ┌─────────────────────────────────────────────────────────────┐
# │                    System & File Dialogs                   │
# └─────────────────────────────────────────────────────────────┘

# File chooser dialogs
windowrule = float on, stay_focused on, match:title ^(Save File|Open File|Open Files|Open Folder|Save Files|termfilechooser)$

# System authentication and utilities
windowrule = float on, center on, match:class ^(hyprpolkitagent)$
windowrule = float on, match:class ^(zenity)$

# Desktop portals
windowrule = float on, match:class ^(xdg-desktop-portal-gtk|xdg-desktop-portal-kde|xdg-desktop-portal-hyprland)(.*)$

# ┌─────────────────────────────────────────────────────────────┐
# │                    Application Launchers                   │
# └─────────────────────────────────────────────────────────────┘

windowrule = float on, match:class ^(rofi)$

# ┌─────────────────────────────────────────────────────────────┐
# │                    Media & Picture-in-Picture              │
# └─────────────────────────────────────────────────────────────┘

# Picture-in-Picture windows
windowrule = float on, size 960 540, move ((monitor_w*0.25)-), match:title ^(Picture-in-Picture|Picture in picture)$

# LibreWolf PiP specific
windowrule = float on, match:class ^(LibreWolf)$, match:title ^(Picture-in-Picture)$

# Media applications
windowrule = float on, move ((monitor_w*0.25)-), size 960 540, match:title ^(imv|mpv|danmufloat|termfloat|nemo|ncmpcpp)$
windowrule = pin on, match:title ^(danmufloat)$
windowrule = rounding 5, match:title ^(danmufloat|termfloat)$

# ┌─────────────────────────────────────────────────────────────┐
# │                    Application-Specific Rules              │
# └─────────────────────────────────────────────────────────────┘

# Audio control
windowrule = float on, match:class ^(org.pulseaudio.pavucontrol)

# Bluetooth manager
windowrule = float on, match:class ^(blueman-manager)$

# System tools
windowrule = float on, match:class ^(CachyOSHello)$

# Steam updater
windowrule = float on, match:class ^()$, match:title ^(Steam - Self Updater)$

# Application opacity settings
windowrule = opacity 0.95, match:class ^(ghostty)$
windowrule = opacity 0.95, match:class ^(vesktop)$
windowrule = opacity 1, match:class ^(zen)$
windowrule = opacity 0.95, match:class ^(cursor)$

# ┌─────────────────────────────────────────────────────────────┐
# │                    Workspace-Specific Rules                │
# └─────────────────────────────────────────────────────────────┘

# Floating window decorations on workspaces 1-10
windowrule = border_color $active, match:float 1, match:workspace w[fv1-10]

# Tiling window decorations on workspaces 1-10
windowrule = border_size 3, rounding 4, match:float 0, match:workspace f[1-10]

# ┌─────────────────────────────────────────────────────────────┐
# │                        Workspace Rules                     │
# └─────────────────────────────────────────────────────────────┘
# https://wiki.hypr.land/Configuring/Workspace-Rules/

# Smart gaps https://wiki.hypr.land/Configuring/Workspace-Rules/#smart-gaps
workspace = w[tv1-10], gapsout:5, gapsin:2
workspace = f[1], gapsout:5, gapsin:2

# ┌─────────────────────────────────────────────────────────────┐
# │                         Layer Rules                        │
# └─────────────────────────────────────────────────────────────┘

# Vicinae launcher
layerrule = blur on, ignore_alpha 0, match:namespace vicinae

# Wallpaper
layerrule = animation fade 50%, match:namespace wallpaper
