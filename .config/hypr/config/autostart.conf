# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Autostart Configuration                  ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

source = ~/.config/hypr/config/defaults.conf

exec-once = hyprpaper
exec-once = hypridle
exec-once = mako
exec-once = vicinae server
# Launch hyprpanel via logging wrapper to debug occasional wrong bar/modules after resume
# Logs: ~/.local/state/hyprpanel/hyprpanel-*.log
# Wrapper: ~/.local/bin/hyprpanel-logged (spawns /usr/share/hyprpanel/hyprpanel-app with line-buffered stdout/stderr)
exec-once = ~/.local/bin/hyprpanel-logged
# Watch Hyprland events; restart hyprpanel when monitors/DPMS change
# Watcher: ~/.local/bin/hyprpanel-watch (logs to ~/.local/state/hyprpanel/watch-*.log)
exec-once = ~/.local/bin/hyprpanel-watch
exec-once = systemctl --user start hyprpolkitagent

exec-once = wl-clip-persist --clipboard regular
exec-once = wl-paste --type text --watch cliphist store # Stores only text data
exec-once = wl-paste --type image --watch cliphist store # Stores only image data

# Slow app launch fix
exec-once = systemctl --user import-environment
exec-once = hash dbus-update-activation-environment 2>/dev/null
exec-once = dbus-update-activation-environment --systemd

# Idle configuration
exec-once = $idlehandler
