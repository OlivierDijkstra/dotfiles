# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Windowrules Configuration                ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

# Windows Rules https://wiki.hyprland.org/0.45.0/Configuring/Window-Rules/

# ┌─────────────────────────────────────────────────────────────┐
# │                    System & File Dialogs                   │
# └─────────────────────────────────────────────────────────────┘

# File chooser dialogs
windowrule = float, title:^(Save File|Open File|Open Files|Open Folder|Save Files|termfilechooser)$
windowrule = stayfocused, title:^(Save File|Open File|Open Files|Open Folder|Save Files|termfilechooser)$

# System authentication and utilities
windowrule = float, class:^(hyprpolkitagent)$
windowrule = center, class:^(hyprpolkitagent)$
windowrule = float, class:^(zenity)$

# Desktop portals
windowrule = float, class:^(xdg-desktop-portal-gtk|xdg-desktop-portal-kde|xdg-desktop-portal-hyprland)(.*)$

# ┌─────────────────────────────────────────────────────────────┐
# │                    Application Launchers                   │
# └─────────────────────────────────────────────────────────────┘

windowrule = float, class:^(rofi)$

# ┌─────────────────────────────────────────────────────────────┐
# │                    Media & Picture-in-Picture              │
# └─────────────────────────────────────────────────────────────┘

# Picture-in-Picture windows
windowrule = float, title:^(Picture-in-Picture|Picture in picture)$
windowrule = size 960 540, title:^(Picture-in-Picture|Picture in picture)$
windowrule = move 25%-, title:^(Picture-in-Picture|Picture in picture)$

# LibreWolf PiP specific
windowrule = float, class:^(LibreWolf)$,title:^(Picture-in-Picture)$

# Media applications
windowrule = float, title:^(imv|mpv|danmufloat|termfloat|nemo|ncmpcpp)$
windowrule = move 25%-, title:^(imv|mpv|danmufloat|termfloat|nemo|ncmpcpp)$
windowrule = size 960 540, title:^(imv|mpv|danmufloat|termfloat|nemo|ncmpcpp)$
windowrule = pin, title:^(danmufloat)$
windowrule = rounding 5, title:^(danmufloat|termfloat)$

# ┌─────────────────────────────────────────────────────────────┐
# │                    Application-Specific Rules              │
# └─────────────────────────────────────────────────────────────┘

# Audio control
windowrule = float, class:^(org.pulseaudio.pavucontrol)

# Bluetooth manager
windowrule = float, class:^(blueman-manager)$

# System tools
windowrule = float, class:^(CachyOSHello)$

# Steam updater
windowrule = float, class:^()$,title:^(Steam - Self Updater)$

# Application opacity settings
windowrule = opacity 0.95, class:^(com.mitchellh.ghostty)$ 
windowrule = opacity 0.95, class:^(vesktop)$ 
windowrule = opacity 1, class:^(zen)$ 
windowrule = opacity 0.95, class:^(Cursor)$ 

# ┌─────────────────────────────────────────────────────────────┐
# │                    Workspace-Specific Rules                │
# └─────────────────────────────────────────────────────────────┘

# Floating window decorations on workspaces 1-10
windowrule = bordercolor $active, floating:1, onworkspace:w[fv1-10]

# Tiling window decorations on workspaces 1-10
windowrule = bordersize 3, floating:0, onworkspace:f[1-10]
windowrule = rounding 4, floating:0, onworkspace:f[1-10]

# ┌─────────────────────────────────────────────────────────────┐
# │                        Workspace Rules                     │
# └─────────────────────────────────────────────────────────────┘
# https://wiki.hyprland.org/0.45.0/Configuring/Workspace-Rules/

# Smart gaps from 0.45.0 https://wiki.hyprland.org/0.45.0/Configuring/Workspace-Rules/#smart-gaps
workspace = w[tv1-10], gapsout:5, gapsin:2
workspace = f[1], gapsout:5, gapsin:2

# ┌─────────────────────────────────────────────────────────────┐
# │                         Layer Rules                        │
# └─────────────────────────────────────────────────────────────┘

# Rofi launcher
layerrule = blur, rofi
layerrule = ignorezero, rofi
layerrule = animation popin 95%, rofi

# Sherlock launcher
layerrule = blur, sherlock
layerrule = ignorezero, sherlock
# layerrule = animation popin 97%, sherlock

# Wallpaper
layerrule = animation fade 50%, wallpaper

# Finder bar
layerrule = blur, finder-bar
layerrule = ignorealpha .55, finder-bar

# Control panel
layerrule = blur, control-panel
layerrule = ignorealpha .55, control-panel
layerrule = animation fade 50%, control-panel
